<!DOCTYPE html>
 <html>
 <head>
 <meta charset="UTF-8">

<title>NDInv&mdash;Wolfram Language Documentation</title>
<meta name="buildnumber" content="0000000" />
<meta name="historydata" content="{1.0, , , }" />
<meta name="keywords" content="NDInv" />

<meta name="description" content="NDInv[traits, pops, target, point] numerically approximates a derivative of invasion fitness with respect to target, with resident traits traits and community pops. target can be x for a single trait, {x1,x2,...,xn} for multiple traits, {x,2} for the second derivative with respect to x, {{x1,x2,...,xn},2} for the Hessian matrix. point is where NDInv will be evaluated. NDInv[traits, pops, target] gives derivatives for all species in a guild determined from target. NDInv[traits, pops] gives derivatives for all traits in Guild (default=first)." />
<script language="JavaScript" type="text/javascript">baselang='NDInv';</script>
<!--#include virtual="/common/includes/gl-head-includes.html"-->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<!--[if IE]>
<style type="text/css">
/* doctype problem overrides */
#menu .searchboxsub, #menu .searchboxsub-on { padding-bottom: 0; }
#menu .headerSearchSubmit { margin-bottom: 4px; }

/*
.WRIdropMenu .WRImenuContents { margin-top: -2px; margin-left: -2px; }
.WRIdropMenu .WRImenuContents .WRImenuContents { margin: 0; }
*/
</style>
<![endif]-->
<link rel="stylesheet" href="/webMathematica/Resources/Documentation/English/css/reference.css" />

<script src="/webMathematica/Resources/Documentation/English/javascript/reference.js"></script>
<script src="/webMathematica/Resources/Documentation/English/javascript/documentation-search.js"></script>
<script src="/webMathematica/Resources/Documentation/English/javascript/faster-page-load.js"></script>
<script src="/webMathematica/Resources/Documentation/English/javascript/hyperlink-filter.js"></script>
<script src="/webMathematica/Resources/Documentation/English/javascript/brokenlinks.js"></script>
<script src="/webMathematica/Resources/Documentation/English/javascript/clipboard.js"></script>
<script src="/webMathematica/Resources/Documentation/English/javascript/image-swap.js"></script>

<script language="JavaScript" type="text/javascript" src="/2013/javascript/toggle-highlight.js"></script>
</head>
<body id="ref" class="function">
<a name="top"></a>
 
<div class="main-wrapper">
<div class="outer-wrapper">

<div class="wrapper mainOuter">
    <div class="mainContent">
 <div class="topContentWrap">
  <div class="ribbonWrap">
   <span class="ribbonOuter"><span class="ribbonInner">ECOEVO PACKAGE SYMBOL</span></span>
  </div>
  <ul class="dropdown">
   <li>
    <a href="#">See Also</a>
    <ul class="sub_menu">
     <li>
      <a href="/language/EcoEvo/ref/DInv.html"><span class="dropdownPad">DInv</span></a>
     </li>
     <li>
      <a href="/language/EcoEvo/ref/Inv.html"><span class="dropdownPad">Inv</span></a>
     </li>
     <li>
      <a href="/language/ref/D.html"><span class="dropdownPad">D</span></a>
     </li>
    </ul>
   </li>
   <li>
    <a href="#">Related Guides</a>
    <ul class="sub_menu">
     <li>
      <a href="/language/EcoEvo/guide/EcoEvo.html"><span class="dropdownPad">EcoEvo</span></a>
     </li>
    </ul>
   </li>
  </ul>
  <div class="clear"><!-- --></div>
 </div>
 <h1>NDInv</h1>
 <div class="functionIntroWrap">
  <div class="functionIntro">
   <p><span class="IF">NDInv<span class="openbracket">[</span><span class="TI">traits</span><span class="comma">,</span> <span class="TI">pops</span><span class="comma">,</span> <span class="TI">target</span><span class="comma">,</span> <span class="TI">point</span><span class="closebracket">]</span></span> <br />numerically approximates a derivative of invasion fitness with respect to <span class="TI">target</span>, with resident traits <span class="TI">traits</span> and community <span class="TI">pops</span>.<br /><span class="TI">target</span> can be <span class="TI">x</span> for a single trait, {<span class="TI">x1</span>,<span class="TI">x2</span>,...,<span class="TI">xn</span>} for multiple traits, {<span class="TI">x</span>,2} for the second derivative with respect to <span class="TI">x</span>, {{<span class="TI">x1</span>,<span class="TI">x2</span>,...,<span class="TI">xn</span>},2} for the Hessian matrix.<br /><span class="TI">point</span> is where NDInv will be evaluated.</p>
  </div>
  <div class="functionIntro">
   <p><span class="IF">NDInv<span class="openbracket">[</span><span class="TI">traits</span><span class="comma">,</span> <span class="TI">pops</span><span class="comma">,</span> <span class="TI">target</span><span class="closebracket">]</span></span><br />gives derivatives for all species in a guild determined from <span class="TI">target</span>.</p>
  </div>
  <div class="functionIntro">
   <p><span class="IF">NDInv<span class="openbracket">[</span><span class="TI">traits</span><span class="comma">,</span> <span class="TI">pops</span><span class="closebracket">]</span></span><br />gives derivatives for all traits in Guild (default=first).</p>
  </div>
 </div>
 <div class="expandWrap closed"
     id="DetailsAndOptions">
  <div class="expandOuter">
   <h2 class="expandInner"><a class="expand hide" title="show" href="#">Details</a><a class="collapse" title="hide" href="#">Details</a></h2>
   <div class="expanded">
    <ul class="functionList">
     <li><a name="838595680"></a>NDInv uses centered finite difference approximations to derivatives.</li>
     <li><a name="1067943069"></a>The following options can be given:</li>
     <li class="NotesTable">
      <a name="164649352"></a>
      <table>
       <col width="1%" />
       <col width="28%" />
       <col width="28%" />
       <col width="43%" />
       <tr class="lineAbove" style=""><td /><td>FindEcoAttractorOpts</td><td><span class="openbrace">{</span><span class="closebrace">}</span></td><td><span class="TT">options to pass to <span class="IF"><a class="package-symbol" href="http://reference.wolfram.com/language/EcoEvo/ref/FindEcoAttractor.html">FindEcoAttractor</a></span></span></td></tr>
       <tr class="" style=""><td /><td>InvOpts</td><td><span class="openbrace">{</span><span class="closebrace">}</span></td><td><span class="TT"><span class="TT">options to pass to <span class="IF"><a class="package-symbol" href="http://reference.wolfram.com/language/EcoEvo/ref/Inv.html">Inv</a></span></span></span></td></tr>
       <tr class="" style=""><td /><td>Guild</td><td>1</td><td><span class="TT"><span class="TT">possible value of <span class="TI">point</span></span></span></td></tr>
       <tr class="" style=""><td /><td>Species</td><td><a href="http://reference.wolfram.com/language/ref/All.html">All</a></td><td><span class="TT"><span class="TT">possible component of <span class="TI">point</span></span></span></td></tr>
       <tr class="" style=""><td /><td>Chop</td><td><a href="http://reference.wolfram.com/language/ref/True.html">True</a></td><td><span class="TT"><span class="TT">apply <a href="http://reference.wolfram.com/language/ref/Chop.html">Chop</a> to the results</span></span></td></tr>
       <tr class="" style=""><td /><td>Simplify</td><td><a href="http://reference.wolfram.com/language/ref/False.html">False</a></td><td><span class="TT">apply <a href="http://reference.wolfram.com/language/ref/Simplify.html">Simplify</a> to the results</span></td></tr>
       <tr class="" style=""><td /><td>RelativeStepSize</td><td>0.001</td><td><span class="TT"><span class="TT">relative size of finite difference step size</span></span></td></tr>
       <tr class="" style=""><td /><td>AbsoluteStepSize</td><td>0.001</td><td><span class="TT"><span class="TT">absolute size of finite difference step size</span></span></td></tr>
       <tr class="" style=""><td /><td>Time</td><td>t</td><td><span class="TT"><span class="TT">fix time if nonautonomous model</span></span></td></tr>
       <tr class="" style=""><td /><td>Verbose</td><td><a href="http://reference.wolfram.com/language/ref/False.html">False</a></td><td><span class="TT"><span class="TT">print out extra info</span></span></td></tr>
       <tr class="" style=""><td /><td>VerboseAll</td><td><a href="http://reference.wolfram.com/language/ref/False.html">False</a></td><td><span class="TT"><span class="TT">apply Verbose recursively</span></span></td></tr>
      </table>
     </li>
     <li><a name="78141253"></a>NDInv calls <span class="IF"><a class="package-symbol" href="http://reference.wolfram.com/language/EcoEvo/ref/DInv.html">DInv</a></span> with option Method<span class="special-character Rule">&#62754;</span>&quot;NDInv&quot; behind the scenes.</li>
     <li><a name="881886656"></a>If <span class="TI">pops</span> is &quot;FindEcoAttractor&quot;, <span class="IF"><a class="package-symbol" href="http://reference.wolfram.com/language/EcoEvo/ref/FindEcoAttractor.html">FindEcoAttractor</a></span> is attempted.</li>
     <li><a name="770772833"></a><span class="TI">traits</span> and <span class="TI">pops</span> can be combined in <span class="TI">traitsandpops</span>.</li>
    </ul>
   </div>
  </div>
 </div>
 <div class="expandWrap"
     id="Examples">
  <div class="expandOuter">
   <h2 class="expandInner"><a class="expand hide" title="show" href="#">Examples</a><a class="collapse" title="hide" href="#">Examples</a><a class="all opener" title="open all" href="#"><span>open all</span></a><a class="all closer hide" title="close all" href="#"><span>close all</span></a></h2>
   <div class="expanded">
    <div class="expandSubWrap">
     <div class="expandSubOuter">
      <h3 class="expandSubInner"><a class="expand hide" href="#" title="show">Basic Examples<span class="special-character NonBreakingSpace">&#160;</span><span class="special-character NonBreakingSpace">&#160;</span><span>(1)</span></a><a class="collapse" href="#" title="hide">Basic Examples<span class="special-character NonBreakingSpace">&#160;</span><span class="special-character NonBreakingSpace">&#160;</span><span>(1)</span></a></h3>
      <div class="expanded">
       <p><a name="306461916"></a>The trait-based Lotka-Volterra competition model:</p>
       <table class="InCell">
        <tr><td class="lab">In[1]:=</td><td class="Input"><div>
           <a name="2067907618"></a>
           <img src="Files/NDInv/I_2.png"
               height="15"
               width="107"
               alt="Click for copyable input" />
          </div><div id="i_1_out" class="IFL"></div></td></tr>
       </table>
       <table class="InCell">
        <tr><td class="lab">In[2]:=</td><td class="Input"><div>
           <a name="1042986035"></a>
           <img src="Files/NDInv/I_4.png"
               height="126"
               width="392"
               alt="Click for copyable input" />
          </div><div id="i_3_out" class="IFL"></div></td></tr>
       </table>
       <p><a name="623900938"></a>Solve for an ecological equilibrium with two resident species, then plot a fitness landscape:</p>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[3]:=</td><td class="Input"><div>
            <a name="1004731251"></a>
            <img src="Files/NDInv/I_6.png"
                height="47"
                width="264"
                alt="Click for copyable input" />
           </div><div id="i_5_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[3]=</td><td class="Output"><div class="output-image">
            <img src="Files/NDInv/O_1.png"
                height="120"
                width="240"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <p><a name="1931303487"></a>Calculate some fitness gradients (1st derivative).  DInv can be evaluated at a point:</p>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[4]:=</td><td class="Input"><div>
            <a name="1472849758"></a>
            <img src="Files/NDInv/I_8.png"
                height="16"
                width="188"
                alt="Click for copyable input" />
           </div><div id="i_7_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[4]=</td><td class="Output"><div class="output-image">
            <img src="Files/NDInv/O_2.png"
                height="15"
                width="59"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <p><a name="1461963868"></a>at all species in a guild (inferred from the target trait or explicitly given with the Guild option):</p>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[5]:=</td><td class="Input"><div>
            <a name="2076227195"></a>
            <img src="Files/NDInv/I_10.png"
                height="16"
                width="114"
                alt="Click for copyable input" />
           </div><div id="i_9_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[5]=</td><td class="Output"><div class="output-image">
            <img src="Files/NDInv/O_3.png"
                height="15"
                width="124"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <p><a name="31483346"></a>or at a particular species:</p>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[6]:=</td><td class="Input"><div>
            <a name="362656065"></a>
            <img src="Files/NDInv/I_12.png"
                height="16"
                width="189"
                alt="Click for copyable input" />
           </div><div id="i_11_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[6]=</td><td class="Output"><div class="output-image">
            <img src="Files/NDInv/O_4.png"
                height="15"
                width="59"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <p><a name="1202410842"></a>Compare with DInv:</p>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[7]:=</td><td class="Input"><div>
            <a name="2024319080"></a>
            <img src="Files/NDInv/I_14.png"
                height="16"
                width="180"
                alt="Click for copyable input" />
           </div><div id="i_13_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[7]=</td><td class="Output"><div class="output-image">
            <img src="Files/NDInv/O_5.png"
                height="15"
                width="59"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <p><a name="1775375083"></a>Options RelativeStepSize and AbsoluteStepSize determine the spacing of the finite difference approximation:</p>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[8]:=</td><td class="Input"><div>
            <a name="918014546"></a>
            <img src="Files/NDInv/I_16.png"
                height="48"
                width="347"
                alt="Click for copyable input" />
           </div><div id="i_15_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[8]=</td><td class="Output"><div class="output-image">
            <img src="Files/NDInv/O_6.png"
                height="15"
                width="59"
                alt="" />
           </div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[8]=</td><td class="Output"><div class="output-image">
            <img src="Files/NDInv/O_7.png"
                height="15"
                width="59"
                alt="" />
           </div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[8]=</td><td class="Output"><div class="output-image">
            <img src="Files/NDInv/O_8.png"
                height="15"
                width="53"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <p><a name="1019521785"></a>Calculate 2nd derivative at a point:</p>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[9]:=</td><td class="Input"><div>
            <a name="1622748726"></a>
            <img src="Files/NDInv/I_18.png"
                height="16"
                width="191"
                alt="Click for copyable input" />
           </div><div id="i_17_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[9]=</td><td class="Output"><div class="output-image">
            <img src="Files/NDInv/O_9.png"
                height="15"
                width="51"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <p><a name="746824652"></a>or at all species in a Guild:</p>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[10]:=</td><td class="Input"><div>
            <a name="1762644371"></a>
            <img src="Files/NDInv/I_20.png"
                height="16"
                width="138"
                alt="Click for copyable input" />
           </div><div id="i_19_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[10]=</td><td class="Output"><div class="output-image">
            <img src="Files/NDInv/O_10.png"
                height="15"
                width="154"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <p><a name="1518564881"></a>When Species<span class="special-character Rule">&#62754;</span>0 is used, the derivative is not evaluated at any particular point:</p>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[11]:=</td><td class="Input"><div>
            <a name="1094839577"></a>
            <img src="Files/NDInv/I_22.png"
                height="16"
                width="191"
                alt="Click for copyable input" />
           </div><div id="i_21_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[11]=</td><td class="Output"><div class="output-image">
            <img src="Files/NDInv/O_11.png"
                height="79"
                width="478"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <p><a name="181716665"></a>NDInv can be used without explicit resident traits:</p>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[12]:=</td><td class="Input"><div>
            <a name="1250543989"></a>
            <img src="Files/NDInv/I_24.png"
                height="31"
                width="178"
                alt="Click for copyable input" />
           </div><div id="i_23_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[12]=</td><td class="Output"><div class="output-image">
            <img src="Files/NDInv/O_12.png"
                height="18"
                width="65"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[13]:=</td><td class="Input"><div>
            <a name="470369934"></a>
            <img src="Files/NDInv/I_26.png"
                height="16"
                width="133"
                alt="Click for copyable input" />
           </div><div id="i_25_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[13]=</td><td class="Output"><div class="output-image">
            <img src="Files/NDInv/O_13.png"
                height="101"
                width="514"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <p><a name="752863012"></a>and without an explicit resident equilibrium:</p>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[14]:=</td><td class="Input"><div>
            <a name="1832491444"></a>
            <img src="Files/NDInv/I_28.png"
                height="16"
                width="112"
                alt="Click for copyable input" />
           </div><div id="i_27_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[14]=</td><td class="Output"><div class="output-image">
            <img src="Files/NDInv/O_14.png"
                height="101"
                width="373"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[15]:=</td><td class="Input"><div>
            <a name="1814671627"></a>
            <img src="Files/NDInv/I_30.png"
                height="16"
                width="135"
                alt="Click for copyable input" />
           </div><div id="i_29_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[15]=</td><td class="Output"><div class="output-image">
            <img src="Files/NDInv/O_15.png"
                height="101"
                width="456"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <div class="ExLine"><a name="48991470"></a><!-- --></div>
      </div>
     </div>
    </div>
    <div class="expandSubWrap closed">
     <div class="expandSubOuter">
      <h3 class="expandSubInner"><a class="expand hide" href="#" title="show">Multiple Traits<span class="special-character NonBreakingSpace">&#160;</span><span class="special-character NonBreakingSpace">&#160;</span><span>(1)</span></a><a class="collapse" href="#" title="hide">Multiple Traits<span class="special-character NonBreakingSpace">&#160;</span><span class="special-character NonBreakingSpace">&#160;</span><span>(1)</span></a></h3>
      <div class="expanded"></div>
     </div>
    </div>
    <div class="expandSubWrap closed">
     <div class="expandSubOuter">
      <h3 class="expandSubInner"><a class="expand hide" href="#" title="show">Multiple Guilds<span class="special-character NonBreakingSpace">&#160;</span><span class="special-character NonBreakingSpace">&#160;</span><span>(1)</span></a><a class="collapse" href="#" title="hide">Multiple Guilds<span class="special-character NonBreakingSpace">&#160;</span><span class="special-character NonBreakingSpace">&#160;</span><span>(1)</span></a></h3>
      <div class="expanded"></div>
     </div>
    </div>
    <div class="toplink">
     <a href="#top">Top</a>
    </div>
    <div class="clear"><!-- --></div>
   </div>
  </div>
 </div>
 <div class="expandWrap"
     id="SeeAlso">
  <div class="expandOuter">
   <h2 class="expandInner"><a class="expand hide" title="show" href="#">See Also</a><a class="collapse" title="hide" href="#">See Also</a></h2>
   <div class="expanded">
    <p class="inlineFunctionList"><span class="IF"><a class="package-symbol" href="http://reference.wolfram.com/language/EcoEvo/ref/DInv.html">DInv</a></span><span class="special-character NonBreakingSpace">&#160;</span><span class="inlineSeparator"><img src="../images/mathematicaImages/bullet.gif" style="vertical-align:middle;" width="4" height="4" alt="bullet" title="bullet" /></span> <span class="IF"><a class="package-symbol" href="http://reference.wolfram.com/language/EcoEvo/ref/Inv.html">Inv</a></span></p>
   </div>
  </div>
 </div>
 <div class="expandWrap"
     id="RelatedGuides">
  <div class="expandOuter">
   <h2 class="expandInner"><a class="expand hide" title="show" href="#">Related Guides</a><a class="collapse" title="hide" href="#">Related Guides</a></h2>
   <div class="expanded">
    <ul class="functionList">
     <li>
      <a name="1348582587"></a>
      <a class="package-symbol" href="http://reference.wolfram.com/language/EcoEvo/guide/EcoEvo.html">EcoEvo</a>
     </li>
    </ul>
   </div>
  </div>
 </div>
</div>
</div><!-- /wrapper -->

	
</div>


</body></html>